{
   "$schema":       "http://json-schema.org/draft-03/schema#",
   "id":            "/rvbd/schema/tm/1.0/config/active/flipper#read",
   "title":         "Traffic IP Group",
   "description":   "Traffic IP groups are sets of IP addresses that are distributed across a cluster for fault tolerance.",
    "javaType" :     "org.rackspace.stingray.client.traffic.ip.TrafficIpRead",
   "type":          "object",
   "required":      true,
   
   "properties": {
      "properties": {
          "javaType" :     "org.rackspace.stingray.client.traffic.ip.TrafficIpReadProperties",
         "type":                  "object",
         "required":              true,
         "additionalProperties":  true,
         
         "properties": {
            
            "basic": {
                "javaType" :     "org.rackspace.stingray.client.traffic.ip.TrafficIpReadBasic",
               "type":                  "object",
               "required":              true,
               "additionalProperties":  true,
               
               "properties": {
                  "enabled": {
                     "description":   "If set to \"No\", the traffic IP group will be disabled and none of the traffic IP addresses will be raised.",
                     
                     "type":          "boolean",
                     "required":      true
                  },
                  
                  "hash_source_port": {
                     "description":   "Whether or not the source port should be taken into account when deciding which traffic manager should handle a request.",
                     
                     "type":          "boolean",
                     "required":      true
                  },
                  
                  "ip_mapping": {
                     "description":   "A table assigning traffic IP addresses to machines that should host them. Traffic IP addresses not specified in this table will automatically be assigned to a machine.",
                     
                     "type":          "array",
                     "required":      true,
                     
                     "items": {
                         "javaType" :     "org.rackspace.stingray.client.traffic.ip.TrafficIpReadIpMapping",
                        "type":                  "object",
                        "additionalProperties":  true,
                        
                        "properties": {
                           "ip": {
                              "description":   "A traffic IP address (from the ipaddresses property).",
                              
                              "type":          "string",
                              "required":      true
                           },
                           "traffic_manager": {
                              "description":   "The name of the traffic manager that should host the IP address.",
                              
                              "type":          "string",
                              "required":      true,
                              "pattern":       "^[A-Za-z0-9._-]*$"
                           }
                        }
                     }
                  },
                  
                  "ipaddresses": {
                     "description":   "The IP addresses that belong to the Traffic IP group.",
                     
                     "type":          "array",
                     "required":      true,
                     "uniqueItems":   true,
                     
                     "items": {
                        "type":          "string"
                     }
                  },
                  
                  "keeptogether": {
                     "description":   "If set to \"Yes\" then all the traffic IPs will be raised on a single traffic manager.  By default they're distributed across all active traffic managers in the traffic IP group.",
                     
                     "type":          "boolean",
                     "required":      true
                  },
                  
                  "location": {
                     "description":   "The location in which the Traffic IP group is based.",
                     
                     "type":          "integer",
                     "required":      true
                  },
                  
                  "machines": {
                     "description":   "The traffic managers that can host the traffic IP group's IP addresses.",
                     
                     "type":          "array",
                     "required":      true,
                     "uniqueItems":   true,
                     
                     "items": {
                        "type":          "string"
                     }
                  },
                  
                  "mode": {
                     "description":   "The method used to distribute traffic IPs across machines in the cluster. If \"multihosted\" is used then \"multicast\" must be set to an appropriate multicast IP address.",
                     
                     "type":          "string",
                     "required":      true,
                     "enum":          ["ec2elastic","multihosted","singlehosted"]
                  },
                  
                  "multicast": {
                     "description":   "The multicast IP address used to duplicate traffic to all traffic managers in the group.",
                     
                     "type":          "string",
                     "required":      true
                  },
                  
                  "note": {
                     "description":   "A description of this traffic IP group.",
                     
                     "type":          "string",
                     "required":      true
                  },
                  
                  "slaves": {
                     "description":   "A list of traffic managers that are in 'passive' mode. This means that in a fully working environment, they will not have any traffic IP addresses assigned to them.",
                     
                     "type":          "array",
                     "required":      true,
                     "uniqueItems":   true,
                     
                     "items": {
                        "type":          "string"
                     }
                  }
               }
            }
         }
      }
   }
}
